<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catering Craft - Home</title>
    <link rel="stylesheet" href="static/homepage.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <h1>Catering Craft</h1>
        <div class="navbar-links">
            <a href="/login">Login</a>
            <a href="/signup">Sign Up</a>
        </div>
    </nav>
    <p id="intro-message" style="font-size: 1.7rem; color: #333; text-align: center; margin: 30px 20px;margin-top: 45px; opacity: 0;">
        "Welcome to Catering Craft! Navigate through our offerings and create your account today to place your first order. Experience delicious meals delivered right to your doorstep. Sign up now and start enjoying!"
    </p>

    <br><hr><br>

    <!-- Features Section -->
    <section class="features">
        <h2>Our Catering Features</h2>
        <div class="features-container">
            <% features.forEach((feature, index) => { %>
                <div class="feature-box" style="animation-delay: <%= index * 0.2 %>s;">
                    <img src="<%= feature.image %>" alt="<%= feature.title %>" />
                    <div class="animated-text" data-phrases='["Quality Ingredients", "Delicious Recipes", "Timely Delivery", "Exceptional Service", "Freshly Prepared Meals", "Customizable Menus"]
                    '></div>
                </div>
            <% }); %>
        </div>
    </section>
    
    
    <!-- Food Carousel Section -->
    <section class="carousel">
        <h2>Featured Food Items</h2>
        <div class="carousel-container">
            <div class="carousel-items">
                <% randomFoodItems.forEach(item => { %>
                    <div class="carousel-item">
                        <img src="<%= item.imageUrl %>" alt="<%= item.name %>" />
                        <h4><%= item.name %></h4>
                        <hr>
                        <p>Price: <%= item.price %> Rs</p>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>

    <!-- Cuisines Section -->
    <section class="cuisine-selection">
        <h2 class="section-title">Choose From A Variety Of Cultural And Global Cuisines</h2>
    
        <div class="cuisine-links">
            <div class="cuisine-box">
                <img src="/static/cuisine/jainthali.webp" alt="Jain Cuisine">
                <span class="cuisine-name">Jain</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/chinesethali.avif" alt="Chinese Cuisine">
                <span class="cuisine-name">Chinese</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/punjabithali.jpg" alt="Punjabi Cuisine">
                <span class="cuisine-name">Punjabi</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/southindanthali.jpg" alt="South Indian Cuisine">
                <span class="cuisine-name">South Indian</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/gujaratithali.webp" alt="Gujarati Cuisine">
                <span class="cuisine-name">Gujarati</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/indianthali.webp" alt="Indian Cuisine">
                <span class="cuisine-name">Indian</span>
            </div>
            <div class="cuisine-box">
                <img src="/static/cuisine/continentalthali.webp" alt="Continental Cuisine">
                <span class="cuisine-name">Continental</span>
            </div>
        </div>
        
        <div class="sideimg">
            <img src="/static/side1.jpg" alt="Side Image 1">
            <img src="/static/side2.jpg" alt="Side Image 2">
        </div>
    </section>
    <br>
    <hr>
    <br>
    <!-- Ongoing Offers Section -->
    <!-- Ongoing Offers Section -->
    <section class="offers">
        <h2>
            Our Ongoing Offers On <br>
            <span class="animated-text-offers" data-phrases='["Thalis", "Catering", "Tiffins"]'></span>
        </h2>
        <div class="offers-container">
            <% ongoingOffers.forEach(offer => { %>
                <div class="offer-box">
                    <h3><%= offer.orderType %></h3>
                    <hr>
                    <p class="offer-percentage"><%= offer.discount %>%</p>
                </div>
            <% }); %>
        </div>
    </section>
    

    <br>
    <hr>
    <br>
    <!-- Team Section -->
    <section class="team">
        <h2>Meet Our Team</h2>
        
        <div class="team-container">
            <div class="admin-container">
                <% admins.forEach((admin, index) => { %>
                    <div class="team-member">
                        <img src="/static/userprofile.png" alt="profile1">
                        <h3><%= admin.name %></h3>
                        <h3><%= admin.phone %></h3>
                        <p>Role: Admin</p>
                    </div>
                <% }); %>
            </div>
            <div class="team-members-container">
                <% teamMembers.forEach(member => { %>
                    <div class="team-member">
                        <img src="/static/userprofile2.png" alt="profile2">
                        <h3><%= member.name %></h3>
                        <h3><%= member.phone %></h3>
                        <p>Role: Team Member</p>
                    </div>
                <% }); %>
            </div>
        </div>
        <div class="team-intro">
            <p style="margin-top: 45px;">"Our catering brings families and friends together, creating unforgettable memories over delicious meals that nourish both body and soul."</p>
            <span>- Dev Vora</span>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Catering Craft. All Rights Reserved.</p>
    </footer>

    <script>
        window.onload = () => {
        
            const introMessageElement = document.getElementById('intro-message');

            // Trigger fade-in effect by changing opacity
            setTimeout(() => {
                introMessageElement.style.opacity = 1; // Fade in the message
            }, 100);
            // Function to get a random delay
            function getRandomDelay(min, max) {
                return Math.random() * (max - min) + min;
            }
        
            // Typing animation for features
            function animateText(elements) {
                elements.forEach(element => {
                    const phrases = JSON.parse(element.getAttribute('data-phrases')); // Get phrases from the data attribute
                    let currentPhraseIndex = Math.floor(Math.random() * phrases.length); // Start from a random phrase
                    let isDeleting = false; // State for deleting
        
                    function type(element, phrases) {
                        let currentCharIndex = isDeleting ? phrases[currentPhraseIndex].length : 0;
        
                        function typeChar() {
                            if (isDeleting) {
                                currentCharIndex--;
                            } else {
                                currentCharIndex++;
                            }
        
                            element.innerText = phrases[currentPhraseIndex].substring(0, currentCharIndex);
        
                            // Determine timing
                            if (currentCharIndex === phrases[currentPhraseIndex].length) {
                                isDeleting = true; // Start deleting after a pause
                                setTimeout(typeChar, getRandomDelay(1000, 2000)); // Pause before deleting
                            } else if (isDeleting && currentCharIndex === 0) {
                                isDeleting = false; // Switch to the next phrase
                                currentPhraseIndex = Math.floor(Math.random() * phrases.length); // Get a random phrase
                                setTimeout(() => typeChar(), getRandomDelay(300, 800)); // Pause before typing next phrase
                                return; // Exit the function
                            } else {
                                setTimeout(typeChar, isDeleting ? 75 : 150); // Speed of typing and deleting
                            }
                        }
        
                        typeChar(); // Start the typing animation
                    }
        
                    type(element, phrases); // Start typing for each element
                });
            }
        
            // Animate feature texts
            const featureTextElements = document.querySelectorAll('.animated-text');
            animateText(featureTextElements);
        
            // Fade-in effect for feature boxes
            const featureBoxes = document.querySelectorAll('.feature-box');
            featureBoxes.forEach((box, index) => {
                setTimeout(() => {
                    box.style.opacity = 1; // Make the box visible
                    box.style.transform = 'translateY(0)'; // Reset transform to original position
                }, index * 300); // Stagger the fade-in effect
            });
        
            // Animate offer texts
            const offerTextElement = document.querySelector('.animated-text-offers'); // Target the specific animated text
            const offerPhrases = JSON.parse(offerTextElement.getAttribute('data-phrases'));
            let currentOfferPhraseIndex = 0; // Index for the current offer phrase
            let isOfferDeleting = false; // State for deleting in offers
        
            function typeOffer(element, phrases) {
                let currentCharIndex = isOfferDeleting ? phrases[currentOfferPhraseIndex].length : 0;
        
                function typeChar() {
                    if (isOfferDeleting) {
                        currentCharIndex--;
                    } else {
                        currentCharIndex++;
                    }
        
                    element.innerText = phrases[currentOfferPhraseIndex].substring(0, currentCharIndex);
        
                    // Determine timing
                    if (currentCharIndex === phrases[currentOfferPhraseIndex].length) {
                        isOfferDeleting = true; // Start deleting after a pause
                        setTimeout(typeChar, 1500); // Pause before deleting
                    } else if (isOfferDeleting && currentCharIndex === 0) {
                        isOfferDeleting = false; // Switch to the next phrase
                        currentOfferPhraseIndex = (currentOfferPhraseIndex + 1) % phrases.length; // Loop through phrases
                        setTimeout(() => typeChar(), 500); // Pause before typing next phrase
                        return; // Exit the function
                    } else {
                        setTimeout(typeChar, isOfferDeleting ? 75 : 150); // Speed of typing and deleting
                    }
                }
        
                typeChar(); // Start the typing animation for offers
            }
        
            typeOffer(offerTextElement, offerPhrases); // Start typing for offers section
        
            // Carousel functionality
            const carouselItems = document.querySelector(".carousel-items");
            const items = document.querySelectorAll(".carousel-item");
            const totalItems = items.length;
            let carouselIndex = 0; // Renamed index to carouselIndex to avoid confusion
        
            function slide() {
                carouselIndex++;
                if (carouselIndex >= totalItems) {
                    carouselIndex = 0; // Reset to the first item
                }
                const offset = -carouselIndex * (300 + 20); // Width of items + margin
                carouselItems.style.transform = `translateX(${offset}px)`; // Slide to the left
            }
        
            setInterval(slide, 3000); // Slide every 3 seconds
        };
    </script>
    
    
</body>
</html>
